international journal scientific engineering research volume issue august-2013 760 issn 2229-5518 classification using nearest neighbor brain image retrieval p.a.charde s.d.lokhande abstract propose algorithm retrieval most visually similar images given query image database medical images content algorithm shape feature extraction canny edge detection texture feature extraction using gabor filter gabor filter best feature extraction method texture basis feature medical images classified using knn method retrieval performance proposed system tested using large medical image database 500 computed tomography images brain retrieval performance retrieval complexity measured evaluated index termscanny edge detection gabor filter nearest neighbour classifier medical images precision recall accuracy introduction mage retrieval active research area over last 25 years review articles access methods im age database appeared early 80s section gives introduction cbir systems features used systems basic idea behind content-based image retrieval that building image database retriev ing image database extract features images features color shape texture etc fea tures stored database future use given query image similarly extract features match vectors those already database distance be tween feature vectors small enough consider corresponding image database match query retrieval results ranked according similarity index group similar target images presented users most image retrieval systems query specified image matched refer overall search similarity based overall properties imag es contrast partial search querying systems retrieve based particular region image content based medical image retrieval system found useful medical applications medical domain principal application domains content based technologies shape fundamental visual features content based image retrieval edge information used feed-in vari ous applications seeking shapes size edge locations particular objects edge detection algorithms main objective locate edge intensity transitions scene neither prior information nor human interpre tation popular algorithms include sobel roberts prewitt laplace log canny algorithm edge detection operators share almost same concept singularities locate accurately p.a.charde currently pursuing masters degree program electronics engineering digital system university pune india e-mail prachiti.charde@gmail.com s.d.lokhande currently working principal sinhgad college en gineering university pune india.e-mail sdlokhande.scoee@sinhgad.edu gradient intensity changes rapidly edge maximal intensity change along particular orientation produces peak zero-crossing hence derivative second derivative gradient every pixel image used edges image canny method proven superior over available edge detection algorithms thus chosen mostly real implementation testing canny edge detection algorithm introduced 1986 considered modern standard sense validity oth er algorithms often checked against it texture key component human visual perception everyone recognize texture difficult de fine texture important difficult describe feature image techniques developed measur ing texture similarity most technique compares second order statistics query stored images method calculate measures image texture such degree contrast coarseness directionality regularity alternative methods texture analysis image retrieval include gabor filters shown image retrieval using ga bor features outperforms using pyramid-structured wave let transform features tree structured wavelet transform fea tures multi-resolution simultaneous autoregressive model features paper describes medical image retrieval system us ing shape feature extraction canny edge detection tex ture feature extraction gabor filter features used training classification using nearest neighbor classi fier algorithm performance measured preci sion recall measures proposed method proposed method training classification phases training phase given set training images shape texture features extracted used train ijser 2013 http://www.ijser.org ijserinternational journal scientific engineering research volume issue august-2013 761 issn 2229-5518 pre-processed image images training feature extraction classifier knn images testing pre-processed image feature extraction classification label fig block diagram proposed method using knn canny edge detector referred hysteresis makes both high threshold low threshold step thinning using interpolation pixels where norms gradient local maximum following fig depicts results after applying canny edge detection algorithm system using k-nearest neighbor classifier classification phase given test ct brain image pre-processed texture features extracted classification features queried k-nearest neighbor classifier label un known image block diagram proposed method given figure 2.1 pre-processing pre-processing includes conversion input image gray scale image noise removal work median filter used de-noising median filtering neighbouring pixels ranked ac cording brightness intensity median value ones value becomes value central pixel median filter offers three advantages reduction contrast across steps since output values available consists only those presents neighborhood median filtering does shift boundaries median is sense robust average mean affected outliers 2.2 feature extraction purpose feature extraction reduce original data set measuring certain properties features distinguish input pattern another.these extracted features used preparation training data features saved feature library 2.2.1 shape feature algorithm detecting edges using canny edge detection algorithm step smoothing smooth image dimensional gaussian most cases computation dimensional gaussian costly approximated dimen sional gaussians step finding gradients gradient image shows changes intensity indicates presence edges actually gives results gradient direction gradient direction step non-maximal suppression edges occur points where gradient maximum magnitude di rection gradient computed each pixel step edge threshold method threshold used original image gaussian filtered image magnitude gradient vectors image after thresholding image edges fig result after applying canny edge detection 2.2.2 texture feature gabor filter most popular signal processing based approach texture extraction basically gabor filters group wavelets each wavelet capturing energy specific frequency specific direction acts local band pass filter certain optimal joint localization proper ties both spatial domain frequency domain image filtered set gabor filters different pre ferred orientations spatial frequencies features obtained feature vector used further tex ture features found calculating mean variation ijser 2013 http://www.ijser.org ijserinternational journal scientific engineering research volume issue august-2013 762 issn 2229-5518 gabor filtered image given image i(x size pxq discrete gabor wavelet transform given convolution mn mn where filter mask size variables mn complex conjugate mn class self-similar functions generated dilation rotation follow ing mother wavelet wx exp exp where modulation frequency self similar gabor wavelets obtained through generating function cos sin sin cos where a>1 n/n variables above equation defined follows 2ln xmn mn ymn tan 2ln xmn implementation used following constants ul 0.05 uh 0.4 range 60 after applying gabor filters image different orientation different scale obtain array magnitudes mn 0,1 magnitudes represent energy content different scale orientation image texture feature found calculating mean mn standard deviation mn energy magnitude 10 mn 0,1 mn mn mn feature vector represents texture created using mn mn feature components implementa tion used scales orientations feature vector given 00 00 01 01 35 35 exam ple filter bank generated shown figure fig.3 filter response gabor filter bank scale orientation 2.3 classification k-nearest neighbour classification technique sim plest technique conceptually computationally pro vides good classification accuracy k-nn algorithm based distance function voting function nearest neighbours metric employed euclidean distance k-nn higher accuracy stability mri data common statistical classifiers slow running time yet issues poor run performance such problem days computational power available k-nearest neighbour classifier conventional non parametric supervised classifier said yield good per formance optimal values most guided learning algorithms k-nn algorithm consists training phase testing phase training phase data points given n-dimensional space training data points labels associated designate class k-nn algorithm comprises following stages determine suitable distance metric training phase stores training data set pairs according selected features yi ci where yi training pattern training data set ci corresponding class amount training patterns during test phase computes distances between feature vector stored features training data nearest neighbours chosen asked vote class example correct classification giv en test phase used assess correctness al gorithm satisfactory value tuned until reasonable level correctness achieved 11 experimental result section depicts retrieval effectiveness proposed ijser 2013 http://www.ijser.org ijserinternational journal scientific engineering research volume issue august-2013 763 issn 2229-5518 fig representative image each class system medical image retrieval system implemented using matlab version 7.13.0.564 pentiumiv processor windows platform retrieval performance terms pre cision recall proposed system tested conduct ing experiments database consists 500 medical images ct scan brain images finely defined 10 cate gories shown figure 4.most images grey level images converted dicom format bmp ten images database collection representing various anatomical regions were chosen query images evaluation system precision used represent retrieval accuracy percentage similar images retrieved re spect number retrieved images recall(r percentage relevant images among possible relevant im ages precision recall defined as number relevant images retrieved total number images retrieved 12 number relevant images retrieved total number relevant image database 13 above equation conclude precision recall measures retrieval accuracy calculated average 10 queries table shows retrieval performance canny edge detection gabor filter combining both method obtained varying values n1 fig 5(a 5(b 6(a and6 gives screen shot retrieval sample query image using combined method gabor filter fig.7 shows average precision recall graph canny edge gf combining both method classification rate defined percentage images classified i table shows theretrieval performance using average precision recall values 10 randomly selected queries table shows comparision classification using knn different value table shows images each class testing set almost classified true class four most adjacent classes average classification rate knn classifier 52.30 apply classifier automatically classify images brain image database process retrieval im ages database whose class label scope i-3 i+3 selected compare query image sup posed classified i-th class applying fig 5(a gui proposed system using combined feature fig.5 retrieved images query image using combined feature fig 5(a ijser 2013 http://www.ijser.org ijserinternational journal scientific engineering research volume issue august-2013 764 issn 2229-5518 classifier system prevent retrieving images similar query image anatomical structure content database combining both method table1 retrieval performance canny edge detection gabor filter gf ced combined method average precision average recall average precision average recall average precision average recall 100 97 93.33 88.5 80.8 72 63.14 56.25 50.67 46.4 10.74 20.88 30.18 30.28 43.97 47.43 48.23 49.83 49.86 50.69 96 76 57.33 45.5 40 36.33 32.85 30.5 29.33 28 10.34 16.64 18.68 19.70 21.52 23.34 24.57 25.97 27.97 29.57 100 97 93.33 89 81.6 72 63.14 56.75 51.56 46.4 10.75 20.88 30.19 38.49 44.37 47.44 48.44 49.65 50.70 50.70 total number re trieved images 10 15 20 25 30 35 40 45 50 fig 6(a gui proposed system using gabor feature fig.6 retrieved images query image using gabor feature fig 5(a average recall fig.7 average precision recall graph canny edge gf com bining both method table comparision classification using knn different values knn k=13 k=11 average classifica tion rate 96.363 95.38 ijser 2013 http://www.ijser.org k=15 93.33 ijserinternational journal scientific engineering research volume issue august-2013 765 issn 2229-5518 table detailed result classification using knn predicted class true class class class class class class class class class class 10 12 23 16 12 35 12 26 11 25 13 31 25 average 14 15 11 20 30 19 23 30 50 49 50 50 50 48 50 50 49 30 24 46.94 70 50 62 31.25 40 60 38.78 100 52.30 conclusion paper proposed method medical image re trieval classification based shape feature gabor fea ture feature image retrieval classifi cation results experimentation show texture fea tures mentioned paper fully describe content image improve recall precision rate classifi cation accuracy medical image retrieval system im plementation process features images stored image database uniformly users submit queries system retrieves images database returns result li ma crawford m.m jinwen tian local manifold learning-based hyper spectral image classi_cation ieee transaction nn 48(11),2010,pp.4099-4109 niblack barber equitz flickner glasman petkovic yanker faloutsos taubin qbic project querying image content using color texture shape proc spie storage retrieval image video databases vol.1908 pp.173-187 1993 liu picard periodicity directionality randomness wold features image modelling retrieval ieee trans pami-18(7):722-733 1996 h.m zelelew a.t papagiannakis,"a volumetric thresholding algorithm processing asphalt concrete x-ray ct images international journal pave ment engineering sept 2007 references faloutsos barber m.flickner j,hafner niblack d.petkovic equitz efficient effective querying image content journal intell inf syst 3-4 231-262 1994 a pentland r.w.picard s.scaroff photobook content-based manipulation image databases international journal computer vision 18 233-254 1996 long h.j zhang d.d feng fundamentals content-based image retriev al multimedia information retrieval management springer berlin,2003 min-ling zhi-hua zhou k-nearest neighbour based algorithm mul tilabel classification ieee international conference granular compu ting,july 2005 pp 718-72 manjunath ma texture features browsing retrieval large image data ieee trans pami-18 8):837-842 august 1996 ijser 2013 http://www.ijser.org ijser